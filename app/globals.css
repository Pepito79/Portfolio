@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* --- VARIABLES --- */
:root {
  --background: oklch(0.98 0.002 264);
  --foreground: oklch(0.15 0.01 264);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.15 0.01 264);
  --accent: oklch(0.55 0.15 170);
  --border: oklch(0.85 0.02 264);
  /* Plus clair en mode light */
  --radius: 0rem;
  /* ... garde tes autres variables :root ici ... */
}

.dark {
  --background: oklch(0.12 0.01 264);
  --foreground: oklch(0.95 0.005 264);
  --card: oklch(0.16 0.012 264);
  --card-foreground: oklch(0.95 0.005 264);
  --accent: oklch(0.6 0.18 170);
  --border: oklch(0.3 0.02 264);
}

/* --- THEME --- */
@theme inline {
  --font-sans: "JetBrains Mono", monospace;
  --font-mono: "JetBrains Mono", monospace;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-accent: var(--accent);
  --color-border: var(--border);
}

/* --- BASE STYLES --- */
@layer base {
  * {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased min-h-screen relative;

    /* GRILLE TECHNIQUE DYNAMIQUE */
    background-image:
      /* Scanlines (Lignes horizontales CRT) */
      linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.02) 50%),
      /* Lignes verticales */
      linear-gradient(to right, var(--accent) 0.5px, transparent 0.5px),
      /* Lignes horizontales */
      linear-gradient(to bottom, var(--accent) 0.5px, transparent 0.5px);

    /* On ajuste l'opacité de la grille via background-image pour qu'elle soit subtile */
    background-size: 100% 4px, 40px 40px, 40px 40px;
    background-attachment: fixed;
  }

  /* HALO LUMINEUX & VIGNETTE */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    /* Halo qui s'adapte à la couleur d'accent */
    background: radial-gradient(circle 800px at 50% -100px,
        var(--accent),
        transparent 80%);
    /* Très léger en light, plus présent en dark */
    opacity: 0.05;
    pointer-events: none;
    z-index: 0;
  }

  .dark body::before {
    opacity: 0.15;
  }

  /* Assure que le contenu est cliquable au-dessus du halo */
  body>* {
    position: relative;
    z-index: 10;
  }
}

/* --- ANIMATIONS --- */
@keyframes blink {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }
}

.animate-blink {
  animation: blink 1s step-end infinite;
}